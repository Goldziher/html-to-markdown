# Cargo configuration for the html-to-markdown workspace

[build]
# Keep incremental builds on locally for faster iterations.
incremental = true

[net]
# Use the sparse registry protocol for faster and lighter index fetches.
git-fetch-with-cli = false

[registries.crates-io]
protocol = "sparse"

[target.'cfg(target_os = "macos")']
rustflags = ["-C", "link-arg=-Wl,-undefined,dynamic_lookup"]

[target.x86_64-pc-windows-msvc]
linker = "rust-lld"

[target.i686-pc-windows-msvc]
linker = "rust-lld"

[target.x86_64-unknown-linux-musl]
linker = "musl-gcc"

[target.aarch64-unknown-linux-gnu]
linker = "aarch64-linux-gnu-gcc"

[env]
RUBY = { value = "scripts/preferred-ruby.sh", relative = true }
